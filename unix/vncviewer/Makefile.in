
PACKAGE = @PACKAGE@
VERSION = @VERSION@

prefix = @prefix@
datadir = @datadir@
localedir = $(datadir)/locale

SRCS = DesktopWindow.cxx CConn.cxx vncviewer.cxx

OBJS = $(SRCS:.cxx=.o)

program = vncviewer

DEP_LIBS = ../tx/libtx.a ../rfb/librfb.a ../network/libnetwork.a \
           ../rdr/librdr.a

EXTRA_LIBS = @ZLIB_LIB@ @JPEG_LIB@ @X_PRE_LIBS@ @X_LIBS@ -lXext -lX11 @X_EXTRA_LIBS@ @LIBINTL@

DIR_CPPFLAGS = -DLOCALEDIR=\"$(localedir)\" -I$(top_srcdir) -I$(top_srcdir)/tx -I$(top_srcdir)/intl @X_CFLAGS@ # X_CFLAGS are really CPPFLAGS

all:: $(program)

$(program): $(OBJS) buildtime.o $(DEP_LIBS)
	rm -f $(program)
	$(CXXLD) $(CXXFLAGS) $(LDFLAGS) -o $@ $(OBJS) buildtime.o $(DEP_LIBS) $(LIBS) $(EXTRA_LIBS)

buildtime.o: $(OBJS) $(DEP_LIBS)

# followed by boilerplate.mk
